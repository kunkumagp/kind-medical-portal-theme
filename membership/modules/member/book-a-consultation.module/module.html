{% require_css %}
<style>
{% scope_css %}

  {# Button wrapper #}

  {% if module.styles.alignment.alignment %}
    .button-wrapper {
      text-align: {{ module.styles.alignment.alignment.horizontal_align }};
    }
  {% endif %}

  {# Button #}

  .button {
    {% if module.styles.background.color.color %}
      background-color: rgba({{ module.styles.background.color.color|convert_rgb }}, {{ module.styles.background.color.opacity / 100 }});
    {% endif %}
    {{ module.styles.border.border.css }}
    {% if module.styles.corner.radius >= 0 %}
      border-radius: {{ module.styles.corner.radius ~ "px" }};
    {% endif %}
    {% if module.styles.text.font.color %}
      color: {{ module.styles.text.font.color }};
    {% endif %}
    {% if module.styles.text.font.size %}
      font-size: {{ module.styles.text.font.size ~ module.styles.text.font.size_unit }};
    {% endif %}
    {% if module.styles.text.font.style %}
      {{ module.styles.text.font.style }};
    {% endif %}
    {{ module.styles.spacing.spacing.css }}
    {% if module.styles.text.transform %}
      text-transform: {{ module.styles.text.transform }};
    {% endif %}
  }

  .button:hover,
  .button:focus {
    {% if module.styles.hover.background.color.color %}
      background-color: rgba({{ module.styles.hover.background.color.color|convert_rgb }}, {{ module.styles.hover.background.color.opacity / 100 }});
    {% endif %}
    {{ module.styles.hover.border.border.css }}
    {% if module.styles.hover.text.font.color %}
      color: {{ module.styles.hover.text.font.color }};
    {% endif %}
    {% if module.styles.hover.text.font.size %}
      font-size: {{ module.styles.hover.text.font.size ~ module.styles.hover.text.font.size_unit }};
    {% endif %}
    {% if module.styles.hover.text.font.style %}
      {{ module.styles.hover.text.font.style }};
    {% endif %}
  }



  .button:active {
    {% if module.styles.hover.background.color.color %}
      background-color: rgba({{ color_variant(module.styles.hover.background.color.color, 80)|convert_rgb }}, {{ module.styles.hover.background.color.opacity / 100 }});
    {% endif %}
    {{ module.styles.hover.border.border.css }}
    {% if module.styles.hover.border.border %}
      border-color: {{ color_variant(module.styles.hover.border.border.top.color, 80) }};
    {% endif %}
    {% if module.styles.hover.text.font.color %}
      color: {{ module.styles.hover.text.font.color }};
    {% endif %}
    {% if module.styles.hover.text.font.size %}
      font-size: {{ module.styles.hover.text.font.size ~ module.styles.hover.text.font.size_unit }};
    {% endif %}
    {% if module.styles.hover.text.font.style %}
      {{ module.styles.hover.text.font.style }};
    {% endif %}
  }

{% end_scope_css %}
</style>
{% end_require_css %}

{# Sets CSS classes based on style field options #}

{% if module.styles.presets.button_style == "secondary" %}
  {% set button_style = "secondary" %}
{% elif module.styles.presets.button_style == "simple" %}
  {% set button_style = "simple" %}
{% endif %}

{% if module.styles.presets.button_size == "small" %}
  {% set button_size = "button--small" %}
{% elif module.styles.presets.button_size == "large" %}
  {% set button_size = "button--large" %}
{% endif %}



<div class="">
  <div class="{{name}}-card flex justify-between grid-container">

    {% for item in module.book_a_consultation_group %}
    
    {% require_css %}
      <style>
        {% if item.add_icon && item.button_group.icon.icon && module.styles.text.font.color %}
          .button svg {
            fill: {{ module.styles.text.font.color }};
          }
        {% endif %}
        
        {% if item.add_icon && item.button_group.icon.icon && module.styles.text.font.color %}
          .button:hover svg,
          .button:focus svg {
            fill: {{ module.styles.hover.text.font.color }};
          }
        {% endif %}
        
        {% if item.add_icon && item.button_group.icon.icon && module.styles.text.font.color %}
          .button:active svg {
            fill: {{ module.styles.hover.text.font.color }};
          }
        {% endif %}
        
      </style>
    {% end_require_css %}
    
    {% if item.button_group.icon.position == "right" %}
      {% set icon_position = "button--icon-right" %}
    {% endif %}
    
    {# Sets attributes used for the link field #}

    {% if item.button_group.button_link.url.type is equalto "PAYMENT" %}
      {% set query_param = "?referrer=CMS_MODULE_NEWTAB" %}
    {% else %}
      {% set query_param = "" %}
    {% endif %}

    {% set href = item.button_group.button_link.url.href %}
    {% if item.button_group.button_link.url.type is equalto "EMAIL_ADDRESS" %}
      {% set href = "mailto:" + href %}
    {% endif %}
    {% set rel = [] %}
    {% if item.button_group.button_link.no_follow %}
      {% do rel.append("nofollow") %}
    {% endif %}
    {% if item.button_group.button_link.open_in_new_tab %}
      {% do rel.append("noopener") %}
    {% endif %}

    {# Button #}

    <div class="book-a-consultation-card">

      <div class="profile-image">
        {% if item.profile_image.src %}
        {% set sizeAttrs = 'width="{{ item.profile_image.width }}" height="{{ item.profile_image.height }}"' %}
        {% if item.profile_image.size_type == 'auto' %}
        {% set sizeAttrs = 'width="{{ item.profile_image.width }}" height="{{ item.profile_image.height }}" style="max-width: 100%; height: auto;"' %}
        {% elif item.profile_image.size_type == 'auto_custom_max' %}
        {% set sizeAttrs = 'width="{{ item.profile_image.max_width }}" height="{{ item.profile_image.max_height }}" style="max-width: 100%; height: auto;"' %}
        {% endif %}
        {% set loadingAttr = item.profile_image.loading != 'disabled' ? 'loading="{{ item.profile_image.loading }}"' : '' %}
        <img src="{{ item.profile_image.src }}" alt="{{ item.profile_image.alt }}" {{ loadingAttr }} {{ sizeAttrs }}>
        {% endif %}
      </div>

      <div class="title">{{ item.title }}</div>

      <div class="designation">{{ item.designation}}</div>

      <div class="description">{{ item.description}}</div>

<!--       <div class="button_group hs-button simple">
{#         <div class="button_text">{{ item.button_group.button_text }}</div>
        <div class="button_icon">
          {% icon
            name="{{ item.button_group.button_icon.name }}"
            style="{{ item.button_group.button_icon.type }}"
            unicode="{{ item.button_group.button_icon.unicode }}"
            icon_set="{{ item.button_group.button_icon.icon_set }}"
          %}
        </div> #}

      </div> -->
      
      <div class="button-wrapper button_group">
        <a href="{{ href ~ query_param }}" class="button hs-button {{ button_style }} {{ button_size }} {{ icon_position }}"
          {% if item.button_group.button_link.open_in_new_tab %}target="_blank"{% endif %}
          {% if rel %}rel="{{ rel|join(" ") }}"{% endif %}
        >
          {% if item.button_group.add_icon && item.button_group.icon.icon %}
            {% icon
              extra_classes="button__icon"
              name="{{ item.button_group.icon.icon.name }}"
              purpose="decorative"
              style="{{ item.button_group.icon.icon.type }}"
              unicode="{{ item.button_group.icon.icon.unicode }}"
            %}
          {% endif %}
          {{ item.button_group.button_text }}
        </a>
        
      </div>

    </div>

    {% endfor %}

  </div>
</div>
